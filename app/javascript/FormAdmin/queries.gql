fragment FormFields on Form {
  id
  title
  form_type
  export_json

  event_categories {
    id
    name
  }

  proposal_event_categories {
    id
    name
  }

  user_con_profile_conventions {
    id
    name
  }
}

fragment FormEditorData on Form {
  id
  title
  form_type

  form_sections {
    id
    title
    position
    form_items {
      id
      position
      identifier
      item_type
      admin_description
      public_description
      properties
      rendered_properties
      default_value
    }
  }
}

query FormAdminQuery {
  convention {
    id
    name

    forms {
      id
      ...FormFields
    }
  }
}

query FormEditorQuery($id: Int!) {
  convention {
    id
    name
    starts_at
    ends_at
    timezone_name
  }

  form(id: $id) {
    ...FormEditorData
  }
}
